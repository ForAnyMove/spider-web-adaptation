<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="storyMode.css" />
  <link rel="stylesheet" href="../loader/loader.css" />
  <link rel="stylesheet" href="../Rewards Receiver/rewardsReceiver.css">
  <meta name=”viewport” content=”user-scalable=no” />
  <title>Story Mode</title>

  <script src="https://yandex.ru/games/sdk/v2"></script>
</head>

<body>
  <!-- rewards popup-b begin -->
  <div class="popup-b fade-hidden" id="bounty-popup">
    <div class="bounty-popup-content bounty-tab" id="bounty-container">
    </div>
    <div class="double-bounty-by-ads-container">
      <button class="get-double-bounty-btn fade-hidden" id="play-btn">
        <span class="get-double-bounty-btn-title">Получить</span>
        <div class="interactive-btn-info">
          <img class="get-double-bounty-icon" src="../../Sprites/Icons/Icon_Ads.png" />
          <span class="get-double-bounty-value">x2</span>
        </div>
      </button>
      <span class="cancel-bounty-btn fade-hidden">Нет, спасибо</span>
    </div>
  </div>
  <!-- rewards popup end -->
  <div class="mask">
    <div class="banter-loader">
      <div class="banter-loader__box"></div>
      <div class="banter-loader__box"></div>
      <div class="banter-loader__box"></div>
      <div class="banter-loader__box"></div>
      <div class="banter-loader__box"></div>
      <div class="banter-loader__box"></div>
      <div class="banter-loader__box"></div>
      <div class="banter-loader__box"></div>
      <div class="banter-loader__box"></div>
    </div>
  </div>
  <header>
    <ul class="header-interface-list">
      <li class="header-ui-container">
        <a href="../../index.html" class="back-to" id="close-button">
          <button class="header-navigation-btn">
            <img src="../../Sprites/Icons/Icon_Arrow_Back.png" alt="Profile" class="header-navigation-list-icon" />
          </button>
        </a>
      </li>
      <li class="header-ui-container">
        <div class="energy-counter">
          <span class="energy-text" id="energy-text">8</span>
          <img src="../../Sprites/Icons/Icon_Energy.png" alt="Energy">
        </div>
      </li>
    </ul>
  </header>
  <div class="popup hidden-popup" id="popup">
  </div>
  <main>
    <div class="story-map-container">
      <div class="levels-axis first-axis">
        <button class="level-btn closed" id="level-btn-29"></button>
        <button class="level-btn closed" id="level-btn-21"></button>
        <button class="level-btn closed" id="level-btn-13"></button>
        <button class="level-btn closed" id="level-btn-5"></button>
        <button class="level-btn" id="level-btn-1">1</button>
        <button class="level-btn closed" id="level-btn-9"></button>
        <button class="level-btn closed" id="level-btn-17"></button>
        <button class="level-btn closed" id="level-btn-25"></button>
        <button class="level-btn closed" id="level-btn-33"></button>
      </div>
      <div class="levels-axis second-axis">
        <button class="level-btn closed" id="level-btn-30"></button>
        <button class="level-btn closed" id="level-btn-22"></button>
        <button class="level-btn closed" id="level-btn-14"></button>
        <button class="level-btn closed" id="level-btn-6"></button>
        <button class="level-btn closed" id="level-btn-2"></button>
        <button class="level-btn closed" id="level-btn-10"></button>
        <button class="level-btn closed" id="level-btn-18"></button>
        <button class="level-btn closed" id="level-btn-26"></button>
        <button class="level-btn closed" id="level-btn-34"></button>
      </div>
      <div class="levels-axis third-axis">
        <button class="level-btn closed" id="level-btn-31"></button>
        <button class="level-btn closed" id="level-btn-23"></button>
        <button class="level-btn closed" id="level-btn-15"></button>
        <button class="level-btn closed" id="level-btn-7"></button>
        <button class="level-btn closed" id="level-btn-3"></button>
        <button class="level-btn closed" id="level-btn-11"></button>
        <button class="level-btn closed" id="level-btn-19"></button>
        <button class="level-btn closed" id="level-btn-27"></button>
        <button class="level-btn closed" id="level-btn-35"></button>
      </div>
      <div class="levels-axis fourth-axis">
        <button class="level-btn closed" id="level-btn-32"></button>
        <button class="level-btn closed" id="level-btn-24"></button>
        <button class="level-btn closed" id="level-btn-16"></button>
        <button class="level-btn closed" id="level-btn-8"></button>
        <button class="level-btn closed" id="level-btn-4"></button>
        <button class="level-btn closed" id="level-btn-12"></button>
        <button class="level-btn closed" id="level-btn-20"></button>
        <button class="level-btn closed" id="level-btn-28"></button>
      </div>
    </div>
  </main>
  <script>
    let savesList = [];
    let SDK = null;
    let player = null;
    let user = null;
    let input;
    let languageChangeEvent;
  </script>
  <script type="module">
    import { preload } from '../loader/loader.js';
    import { initializeSDK } from '../scripts/sdk/sdk.js';
    import { initialize } from '../scripts/save_system/SaveSystem.js'
    import User from '../scripts/userData.js'
    import { Action } from '../scripts/globalEvents.js';

    user = new User();
    languageChangeEvent = new Action();


    preload(async () => {
      console.log('[storyMode.html]=> start initializeSDK');
      await initializeSDK();
      console.log('[storyMode.html]=> start initialize');
      await initialize();
      user.loadData();
      console.log('[storyMode.html]=> start import("./storyMode.js")');
      await import('./storyMode.js')
    })
  </script>
</body>

</html>